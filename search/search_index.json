{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Burgonet Gateway Documentation Burgonet Gateway is an enterprise LLM gateway that provides secure access and compliance controls for AI systems. \u26a0\ufe0f This project is still under active development Quick Links Getting Started Core Features Use Cases Technical Architecture Configuration API Reference Getting Started Learn how to set up and configure Burgonet Gateway for your organization. Core Features Access Control : Granular permissions for users and groups Quota Management : Set usage limits per user/group Content Filtering : PII detection and keyword blocking Audit Logging : Detailed request/response tracking Multi-Provider Support : [\u26a0\ufe0f work in progress] DeepSeek Ollama OpenAI Azure Bedrock Use Cases Explore common scenarios and configurations: Departmental Access Control Cost Management with Quotas Preventing Data Leakage Departmental Access Control Let's consider an organization with three departments: Department Access Level Restrictions IT All models Quotas & rate limits Finance Self-hosted only No external models HR All models Unlimited budget Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget Restrict keywords \u26a0\ufe0f Implemented, to be documented Prevent leakage of personal idenfier & information leak \u26a0\ufe0f Implemented, to be documented curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information Cost Management with Quotas Administrators can effectively control costs by configuring quotas for model usage and user access. Key Features: Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Home"},{"location":"#welcome-to-burgonet-gateway-documentation","text":"Burgonet Gateway is an enterprise LLM gateway that provides secure access and compliance controls for AI systems. \u26a0\ufe0f This project is still under active development","title":"Welcome to Burgonet Gateway Documentation"},{"location":"#quick-links","text":"Getting Started Core Features Use Cases Technical Architecture Configuration API Reference","title":"Quick Links"},{"location":"#getting-started","text":"Learn how to set up and configure Burgonet Gateway for your organization.","title":"Getting Started"},{"location":"#core-features","text":"Access Control : Granular permissions for users and groups Quota Management : Set usage limits per user/group Content Filtering : PII detection and keyword blocking Audit Logging : Detailed request/response tracking Multi-Provider Support : [\u26a0\ufe0f work in progress] DeepSeek Ollama OpenAI Azure Bedrock","title":"Core Features"},{"location":"#use-cases","text":"Explore common scenarios and configurations: Departmental Access Control Cost Management with Quotas Preventing Data Leakage","title":"Use Cases"},{"location":"#departmental-access-control","text":"Let's consider an organization with three departments: Department Access Level Restrictions IT All models Quotas & rate limits Finance Self-hosted only No external models HR All models Unlimited budget Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget","title":"Departmental Access Control"},{"location":"#restrict-keywords","text":"\u26a0\ufe0f Implemented, to be documented","title":"Restrict keywords"},{"location":"#prevent-leakage-of-personal-idenfier-information-leak","text":"\u26a0\ufe0f Implemented, to be documented curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information","title":"Prevent leakage of personal idenfier &amp; information leak"},{"location":"#cost-management-with-quotas","text":"Administrators can effectively control costs by configuring quotas for model usage and user access. Key Features: Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Cost Management with Quotas"},{"location":"about/","text":"","title":"About"},{"location":"api-reference/","text":"Work in progress","title":"API Reference"},{"location":"configuration/","text":"Work in progress","title":"Configuration"},{"location":"getting-started/","text":"Getting Started with Burgonet Gateway Installation Clone the repository: git clone https://github.com/your-repo/burgonet-gateway.git cd burgonet-gateway Install dependencies: pip install -r requirements.txt Configure the application by editing frontend/app/config.py Run the application: python wsgi.py Configuration The main configuration file is located at frontend/app/config.py . Key settings include: LDAP : Authentication and user management Redis : Token storage and caching Nginx : Proxy configuration Security : Secret keys and access controls Example configuration: # LDAP Settings LDAP_HOST = 'ldap://localhost' LDAP_BASE_DN = 'dc=mycompany,dc=com' # Redis Settings REDIS_HOST = 'localhost' REDIS_PORT = 6379 # Security SECRET_KEY = 'your-secret-key-here' First Steps Configure your LDAP integration Set up model providers Configure user groups and permissions Set up monitoring and alerts","title":"Getting Started"},{"location":"getting-started/#getting-started-with-burgonet-gateway","text":"","title":"Getting Started with Burgonet Gateway"},{"location":"getting-started/#installation","text":"Clone the repository: git clone https://github.com/your-repo/burgonet-gateway.git cd burgonet-gateway Install dependencies: pip install -r requirements.txt Configure the application by editing frontend/app/config.py Run the application: python wsgi.py","title":"Installation"},{"location":"getting-started/#configuration","text":"The main configuration file is located at frontend/app/config.py . Key settings include: LDAP : Authentication and user management Redis : Token storage and caching Nginx : Proxy configuration Security : Secret keys and access controls Example configuration: # LDAP Settings LDAP_HOST = 'ldap://localhost' LDAP_BASE_DN = 'dc=mycompany,dc=com' # Redis Settings REDIS_HOST = 'localhost' REDIS_PORT = 6379 # Security SECRET_KEY = 'your-secret-key-here'","title":"Configuration"},{"location":"getting-started/#first-steps","text":"Configure your LDAP integration Set up model providers Configure user groups and permissions Set up monitoring and alerts","title":"First Steps"},{"location":"monitoring/","text":"Work in progress","title":"Monitoring"},{"location":"screenshots/","text":"Walk the talk Log example { \"time_local\": \"14/Jan/2025:11:06:14 +0000\", \"remote_addr\": \"192.168.65.1\", \"remote_user\": \"\", \"request\": \"POST /api.deepseek.com/v3/chat/completions HTTP/1.1\", \"status\": \"200\", \"body_bytes_sent\": \"440\", \"request_time\": \"1.977\", \"http_referrer\": \"\", \"http_user_agent\": \"curl/8.7.1\", \"http_x_forwarded_for\": \"\", \"host\": \"localhost\", \"authorization\": \"Bearer your-token-here\", \"upstream_addr\": \"104.18.27.90:443\", \"request_method\": \"POST\", \"http_version\": \"HTTP/1.1\", \"request_body\": \"{\\n \\\"model\\\": \\\"deepseek-chat\\\",\\n \\\"messages\\\": [\\n {\\\"role\\\": \\\"system\\\", \\\"content\\\": \\\"You are a helpful assistant.\\\"},\\n {\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Hello\\\"}\\n ],\\n \\\"stream\\\": false\\n }\", \"response_body\": \"{\\\"id\\\":\\\"08118b43-3ec7-4691-b3c9-91bb5e1cbe23\\\",\\\"object\\\":\\\"chat.completion\\\",\\\"created\\\":1736852773,\\\"model\\\":\\\"deepseek-chat\\\",\\\"choices\\\":[{\\\"index\\\":0,\\\"message\\\":{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"Hello! How can I assist you today? \ud83d\ude0a\\\"},\\\"logprobs\\\":null,\\\"finish_reason\\\":\\\"stop\\\"}],\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":11,\\\"total_tokens\\\":21,\\\"prompt_cache_hit_tokens\\\":0,\\\"prompt_cache_miss_tokens\\\":10},\\\"system_fingerprint\\\":\\\"fp_3a5770e1b4\\\"}\", \"provider\": \"deepseek\", \"model_name\": \"deepseek\", \"model_version\": \"v3\" }","title":"Walk the talk"},{"location":"screenshots/#walk-the-talk","text":"","title":"Walk the talk"},{"location":"screenshots/#log-example","text":"{ \"time_local\": \"14/Jan/2025:11:06:14 +0000\", \"remote_addr\": \"192.168.65.1\", \"remote_user\": \"\", \"request\": \"POST /api.deepseek.com/v3/chat/completions HTTP/1.1\", \"status\": \"200\", \"body_bytes_sent\": \"440\", \"request_time\": \"1.977\", \"http_referrer\": \"\", \"http_user_agent\": \"curl/8.7.1\", \"http_x_forwarded_for\": \"\", \"host\": \"localhost\", \"authorization\": \"Bearer your-token-here\", \"upstream_addr\": \"104.18.27.90:443\", \"request_method\": \"POST\", \"http_version\": \"HTTP/1.1\", \"request_body\": \"{\\n \\\"model\\\": \\\"deepseek-chat\\\",\\n \\\"messages\\\": [\\n {\\\"role\\\": \\\"system\\\", \\\"content\\\": \\\"You are a helpful assistant.\\\"},\\n {\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Hello\\\"}\\n ],\\n \\\"stream\\\": false\\n }\", \"response_body\": \"{\\\"id\\\":\\\"08118b43-3ec7-4691-b3c9-91bb5e1cbe23\\\",\\\"object\\\":\\\"chat.completion\\\",\\\"created\\\":1736852773,\\\"model\\\":\\\"deepseek-chat\\\",\\\"choices\\\":[{\\\"index\\\":0,\\\"message\\\":{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"Hello! How can I assist you today? \ud83d\ude0a\\\"},\\\"logprobs\\\":null,\\\"finish_reason\\\":\\\"stop\\\"}],\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":11,\\\"total_tokens\\\":21,\\\"prompt_cache_hit_tokens\\\":0,\\\"prompt_cache_miss_tokens\\\":10},\\\"system_fingerprint\\\":\\\"fp_3a5770e1b4\\\"}\", \"provider\": \"deepseek\", \"model_name\": \"deepseek\", \"model_version\": \"v3\" }","title":"Log example"},{"location":"security/","text":"Work in progress","title":"Security"},{"location":"technical/","text":"Technical Architecture System Components graph TD A[User] -->|Bearer| D[NGINX] D <--> C((Redis)) D <--> E{Model Providers} E <--> F[OpenAI] E <--> G[DeepSeek] E <--> H[Ollama] E <--> I[Azure] D <--> J[Logging] J --> K[Audit System] style D fill:#FFA500,color:#000 style E fill:#AAAAAA,color:#000 Request Flow sequenceDiagram participant User participant NGINX participant Redis participant Provider participant Burgonet User->>NGINX: API Request NGINX->>Redis: Check access (token validity, quotas, etc.) Redis-->>NGINX: Access status NGINX->>Provider: Forward request Provider-->>NGINX: Response NGINX->>Burgonet: Log request via syslog NGINX-->>User: Return response Core Concepts classDiagram class User { +String id +String username +Group[] groups +addGroup(Group group) +removeGroup(Group group) } class Group { +String id +String name +User[] members +addUser(User user) +removeUser(User user) } class Token { +String id +String userId +Date createdAt +generate() +revoke() } class Route { +String path +Group[] disabledGroups +String[] blacklistWords +String~Integer~ quotas } User \"1\" *-- \"many\" Group : belongs to Group \"1\" *-- \"many\" User : contains User \"1\" *-- \"many\" Token : manages Route \"1\" *-- \"many\" Group : disables access for NGINX Integration log_format bgn_combined escape=json '{' '\"time_local\":\"$time_local\",' '\"remote_addr\":\"$remote_addr\",' '\"remote_user\":\"$remote_user\",' '\"request\":\"$request\",' '\"status\": \"$status\",' '\"body_bytes_sent\":\"$body_bytes_sent\",' '\"request_time\":\"$request_time\",' '\"http_referrer\":\"$http_referer\",' '\"http_user_agent\":\"$http_user_agent\",' '\"http_x_forwarded_for\":\"$http_x_forwarded_for\",' '\"host\":\"$host\",' '\"upstream_addr\":\"$upstream_addr\",' '\"request_method\":\"$request_method\",' '\"http_version\":\"$server_protocol\",' '\"request_body\":\"$request_body\",' '\"response_body\":\"$resp_body\",' '\"provider\":\"$provider\",' '\"model_name\":\"$model_name\",' '\"model_version\":\"$model_version\"' '}'; server { listen 80; server_name _; set $resp_body ''; body_filter_by_lua_file /etc/nginx/lua-scripts/body_filter.lua; location /api.deepseek.com/v3/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name deepseek; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.deepseek.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /api.openai.com/v1/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.openai.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /azure/gpt4o { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; set $endpoint https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_ID-id/completions?api-version=2024-10-21; proxy_pass $endpoint; } location /ollama/gemma2/2b/ { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gemma2:2b-instruct-q6_K; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass http://m1:11434/api/chat; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } }","title":"Architecture"},{"location":"technical/#technical-architecture","text":"","title":"Technical Architecture"},{"location":"technical/#system-components","text":"graph TD A[User] -->|Bearer| D[NGINX] D <--> C((Redis)) D <--> E{Model Providers} E <--> F[OpenAI] E <--> G[DeepSeek] E <--> H[Ollama] E <--> I[Azure] D <--> J[Logging] J --> K[Audit System] style D fill:#FFA500,color:#000 style E fill:#AAAAAA,color:#000","title":"System Components"},{"location":"technical/#request-flow","text":"sequenceDiagram participant User participant NGINX participant Redis participant Provider participant Burgonet User->>NGINX: API Request NGINX->>Redis: Check access (token validity, quotas, etc.) Redis-->>NGINX: Access status NGINX->>Provider: Forward request Provider-->>NGINX: Response NGINX->>Burgonet: Log request via syslog NGINX-->>User: Return response","title":"Request Flow"},{"location":"technical/#core-concepts","text":"classDiagram class User { +String id +String username +Group[] groups +addGroup(Group group) +removeGroup(Group group) } class Group { +String id +String name +User[] members +addUser(User user) +removeUser(User user) } class Token { +String id +String userId +Date createdAt +generate() +revoke() } class Route { +String path +Group[] disabledGroups +String[] blacklistWords +String~Integer~ quotas } User \"1\" *-- \"many\" Group : belongs to Group \"1\" *-- \"many\" User : contains User \"1\" *-- \"many\" Token : manages Route \"1\" *-- \"many\" Group : disables access for","title":"Core Concepts"},{"location":"technical/#nginx-integration","text":"log_format bgn_combined escape=json '{' '\"time_local\":\"$time_local\",' '\"remote_addr\":\"$remote_addr\",' '\"remote_user\":\"$remote_user\",' '\"request\":\"$request\",' '\"status\": \"$status\",' '\"body_bytes_sent\":\"$body_bytes_sent\",' '\"request_time\":\"$request_time\",' '\"http_referrer\":\"$http_referer\",' '\"http_user_agent\":\"$http_user_agent\",' '\"http_x_forwarded_for\":\"$http_x_forwarded_for\",' '\"host\":\"$host\",' '\"upstream_addr\":\"$upstream_addr\",' '\"request_method\":\"$request_method\",' '\"http_version\":\"$server_protocol\",' '\"request_body\":\"$request_body\",' '\"response_body\":\"$resp_body\",' '\"provider\":\"$provider\",' '\"model_name\":\"$model_name\",' '\"model_version\":\"$model_version\"' '}'; server { listen 80; server_name _; set $resp_body ''; body_filter_by_lua_file /etc/nginx/lua-scripts/body_filter.lua; location /api.deepseek.com/v3/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name deepseek; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.deepseek.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /api.openai.com/v1/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.openai.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /azure/gpt4o { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; set $endpoint https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_ID-id/completions?api-version=2024-10-21; proxy_pass $endpoint; } location /ollama/gemma2/2b/ { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gemma2:2b-instruct-q6_K; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass http://m1:11434/api/chat; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } }","title":"NGINX Integration"},{"location":"use-cases/","text":"Use Cases Explore common scenarios and configurations: Departmental Access Control Cost Management with Quotas Preventing Data Leakage Departmental Access Control Let's consider an organization with three departments: Department Access Level Restrictions IT All models Quotas & rate limits Finance Self-hosted only No external models HR All models Unlimited budget Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget Restrict keywords \u26a0\ufe0f Implemented, to be documented Prevent leakage of personal idenfier & information leak \u26a0\ufe0f Implemented, to be documented curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information Cost Management with Quotas Administrators can effectively control costs by configuring quotas for model usage and user access. Key Features: Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Use Cases"},{"location":"use-cases/#use-cases","text":"Explore common scenarios and configurations: Departmental Access Control Cost Management with Quotas Preventing Data Leakage","title":"Use Cases"},{"location":"use-cases/#departmental-access-control","text":"Let's consider an organization with three departments: Department Access Level Restrictions IT All models Quotas & rate limits Finance Self-hosted only No external models HR All models Unlimited budget Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget","title":"Departmental Access Control"},{"location":"use-cases/#restrict-keywords","text":"\u26a0\ufe0f Implemented, to be documented","title":"Restrict keywords"},{"location":"use-cases/#prevent-leakage-of-personal-idenfier-information-leak","text":"\u26a0\ufe0f Implemented, to be documented curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information","title":"Prevent leakage of personal idenfier &amp; information leak"},{"location":"use-cases/#cost-management-with-quotas","text":"Administrators can effectively control costs by configuring quotas for model usage and user access. Key Features: Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Cost Management with Quotas"}]}