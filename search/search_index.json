{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Burgonet Gateway's documentation Burgonet Gateway is an enterprise LLM gateway that provides secure access and compliance controls for AI systems. \u26a0\ufe0f This project is still under development. A simple use case of governance Let's consider the following use case: in an organization, we have three employees - Alice, Bob, and Charlie - distributed across different departments: Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget Use case: restrict group access \u26a0\ufe0f Implemented, to be documented Use case: restrict keywords \u26a0\ufe0f Implemented, to be documented Use case: prevent leakage of personal idenfier & information leak curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information Use Case: Cost Management with Quotas Administrators can effectively control costs by configuring quotas for model usage and user access. Key Features: Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Home"},{"location":"#welcome-to-burgonet-gateways-documentation","text":"Burgonet Gateway is an enterprise LLM gateway that provides secure access and compliance controls for AI systems. \u26a0\ufe0f This project is still under development.","title":"Welcome to Burgonet Gateway's documentation"},{"location":"#a-simple-use-case-of-governance","text":"Let's consider the following use case: in an organization, we have three employees - Alice, Bob, and Charlie - distributed across different departments: Alice works in the IT Department Bob works in the Finance Department Charlie works in the Human Resources Department The organization's governance rules are configured as follows: The IT Department has access to all models, with quotas and rate limits The Finance Department does not have access to external models only self-hosted. The Human Resources Department has access to all models with unlimited budget","title":"A simple use case of governance"},{"location":"#use-case-restrict-group-access","text":"\u26a0\ufe0f Implemented, to be documented","title":"Use case: restrict group access"},{"location":"#use-case-restrict-keywords","text":"\u26a0\ufe0f Implemented, to be documented","title":"Use case: restrict keywords"},{"location":"#use-case-prevent-leakage-of-personal-idenfier-information-leak","text":"curl http://127.0.0.1:8080/ollama/gemma2/2b/ -i \\ -H \"Authorization: Bearer your-token-here\" \\ -d '{ \"model\": \"gemma2:2b-instruct-q6_K\", \"messages\": [ { \"role\": \"user\", \"content\": \"Hi my name is Jean-Claude Dusse\" } ] , \"stream\": false }' HTTP/1.1 403 Forbidden Server: openresty/1.21.4.1 Date: Thu, 16 Jan 2025 13:01:06 GMT Content-Type: text/plain Transfer-Encoding: chunked Connection: keep-alive Request contains sensitive personal information","title":"Use case: prevent leakage of personal idenfier &amp; information leak"},{"location":"#use-case-cost-management-with-quotas","text":"Administrators can effectively control costs by configuring quotas for model usage and user access.","title":"Use Case: Cost Management with Quotas"},{"location":"#key-features","text":"Per-Model Quotas : Set usage limits for individual models to manage resource allocation. This granular approach allows administrators to optimize costs while maintaining flexibility and control over system resources. { \"provider\": \"ollama\", \"model_name\": \"gemma2:2b-instruct-q6_K\", \"location\": \"/ollama/gemma2/2b/\", \"proxy_pass\": \"http://m1:11434/api/chat\", \"api_key\": \"NA\", \"disabled_groups\": \"\", \"blacklist_words\": \"confidential mycorp\", \"pii_protection_url\": \"http://m1:8001/check-pii-base64\", \"quotas\": { \"max_tokens\": {\"week\": 100000, \"day\": 1000, \"hour\": 50}, } }","title":"Key Features:"},{"location":"about/","text":"","title":"About"},{"location":"screenshots/","text":"Walk the talk Log example { \"time_local\": \"14/Jan/2025:11:06:14 +0000\", \"remote_addr\": \"192.168.65.1\", \"remote_user\": \"\", \"request\": \"POST /api.deepseek.com/v3/chat/completions HTTP/1.1\", \"status\": \"200\", \"body_bytes_sent\": \"440\", \"request_time\": \"1.977\", \"http_referrer\": \"\", \"http_user_agent\": \"curl/8.7.1\", \"http_x_forwarded_for\": \"\", \"host\": \"localhost\", \"authorization\": \"Bearer your-token-here\", \"upstream_addr\": \"104.18.27.90:443\", \"request_method\": \"POST\", \"http_version\": \"HTTP/1.1\", \"request_body\": \"{\\n \\\"model\\\": \\\"deepseek-chat\\\",\\n \\\"messages\\\": [\\n {\\\"role\\\": \\\"system\\\", \\\"content\\\": \\\"You are a helpful assistant.\\\"},\\n {\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Hello\\\"}\\n ],\\n \\\"stream\\\": false\\n }\", \"response_body\": \"{\\\"id\\\":\\\"08118b43-3ec7-4691-b3c9-91bb5e1cbe23\\\",\\\"object\\\":\\\"chat.completion\\\",\\\"created\\\":1736852773,\\\"model\\\":\\\"deepseek-chat\\\",\\\"choices\\\":[{\\\"index\\\":0,\\\"message\\\":{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"Hello! How can I assist you today? \ud83d\ude0a\\\"},\\\"logprobs\\\":null,\\\"finish_reason\\\":\\\"stop\\\"}],\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":11,\\\"total_tokens\\\":21,\\\"prompt_cache_hit_tokens\\\":0,\\\"prompt_cache_miss_tokens\\\":10},\\\"system_fingerprint\\\":\\\"fp_3a5770e1b4\\\"}\", \"provider\": \"deepseek\", \"model_name\": \"deepseek\", \"model_version\": \"v3\" }","title":"Screenshots"},{"location":"screenshots/#walk-the-talk","text":"","title":"Walk the talk"},{"location":"screenshots/#log-example","text":"{ \"time_local\": \"14/Jan/2025:11:06:14 +0000\", \"remote_addr\": \"192.168.65.1\", \"remote_user\": \"\", \"request\": \"POST /api.deepseek.com/v3/chat/completions HTTP/1.1\", \"status\": \"200\", \"body_bytes_sent\": \"440\", \"request_time\": \"1.977\", \"http_referrer\": \"\", \"http_user_agent\": \"curl/8.7.1\", \"http_x_forwarded_for\": \"\", \"host\": \"localhost\", \"authorization\": \"Bearer your-token-here\", \"upstream_addr\": \"104.18.27.90:443\", \"request_method\": \"POST\", \"http_version\": \"HTTP/1.1\", \"request_body\": \"{\\n \\\"model\\\": \\\"deepseek-chat\\\",\\n \\\"messages\\\": [\\n {\\\"role\\\": \\\"system\\\", \\\"content\\\": \\\"You are a helpful assistant.\\\"},\\n {\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Hello\\\"}\\n ],\\n \\\"stream\\\": false\\n }\", \"response_body\": \"{\\\"id\\\":\\\"08118b43-3ec7-4691-b3c9-91bb5e1cbe23\\\",\\\"object\\\":\\\"chat.completion\\\",\\\"created\\\":1736852773,\\\"model\\\":\\\"deepseek-chat\\\",\\\"choices\\\":[{\\\"index\\\":0,\\\"message\\\":{\\\"role\\\":\\\"assistant\\\",\\\"content\\\":\\\"Hello! How can I assist you today? \ud83d\ude0a\\\"},\\\"logprobs\\\":null,\\\"finish_reason\\\":\\\"stop\\\"}],\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":11,\\\"total_tokens\\\":21,\\\"prompt_cache_hit_tokens\\\":0,\\\"prompt_cache_miss_tokens\\\":10},\\\"system_fingerprint\\\":\\\"fp_3a5770e1b4\\\"}\", \"provider\": \"deepseek\", \"model_name\": \"deepseek\", \"model_version\": \"v3\" }","title":"Log example"},{"location":"technical/","text":"Concept relations classDiagram class User { +String id +String name +Set~Group~ groups +addGroup(Group group) +removeGroup(Group group) } class Group { +String id +String name +Set~User~ members +addUser(User user) +removeUser(User user) } class Route { +String path +Set~Group~ disabledGroups } class Token { +String id +String userId +Date createdAt +generate() +revoke() } User \"1\" *-- \"many\" Group : belongs to Group \"1\" *-- \"many\" User : contains User \"1\" *-- \"many\" Token : manages Route \"1\" *-- \"many\" Group : disables access for NGINX Configuration file example log_format bgn_combined escape=json '{' '\"time_local\":\"$time_local\",' '\"remote_addr\":\"$remote_addr\",' '\"remote_user\":\"$remote_user\",' '\"request\":\"$request\",' '\"status\": \"$status\",' '\"body_bytes_sent\":\"$body_bytes_sent\",' '\"request_time\":\"$request_time\",' '\"http_referrer\":\"$http_referer\",' '\"http_user_agent\":\"$http_user_agent\",' '\"http_x_forwarded_for\":\"$http_x_forwarded_for\",' '\"host\":\"$host\",' '\"upstream_addr\":\"$upstream_addr\",' '\"request_method\":\"$request_method\",' '\"http_version\":\"$server_protocol\",' '\"request_body\":\"$request_body\",' '\"response_body\":\"$resp_body\",' '\"provider\":\"$provider\",' '\"model_name\":\"$model_name\",' '\"model_version\":\"$model_version\"' '}'; server { listen 80; server_name _; set $resp_body ''; body_filter_by_lua_file /etc/nginx/lua-scripts/body_filter.lua; location /api.deepseek.com/v3/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name deepseek; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.deepseek.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /api.openai.com/v1/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.openai.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /azure/gpt4o { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; set $endpoint https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_ID-id/completions?api-version=2024-10-21; proxy_pass $endpoint; } location /ollama/gemma2/2b/ { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gemma2:2b-instruct-q6_K; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass http://m1:11434/api/chat; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } }","title":"Technical Overview"},{"location":"technical/#concept-relations","text":"classDiagram class User { +String id +String name +Set~Group~ groups +addGroup(Group group) +removeGroup(Group group) } class Group { +String id +String name +Set~User~ members +addUser(User user) +removeUser(User user) } class Route { +String path +Set~Group~ disabledGroups } class Token { +String id +String userId +Date createdAt +generate() +revoke() } User \"1\" *-- \"many\" Group : belongs to Group \"1\" *-- \"many\" User : contains User \"1\" *-- \"many\" Token : manages Route \"1\" *-- \"many\" Group : disables access for","title":"Concept relations"},{"location":"technical/#nginx-configuration-file-example","text":"log_format bgn_combined escape=json '{' '\"time_local\":\"$time_local\",' '\"remote_addr\":\"$remote_addr\",' '\"remote_user\":\"$remote_user\",' '\"request\":\"$request\",' '\"status\": \"$status\",' '\"body_bytes_sent\":\"$body_bytes_sent\",' '\"request_time\":\"$request_time\",' '\"http_referrer\":\"$http_referer\",' '\"http_user_agent\":\"$http_user_agent\",' '\"http_x_forwarded_for\":\"$http_x_forwarded_for\",' '\"host\":\"$host\",' '\"upstream_addr\":\"$upstream_addr\",' '\"request_method\":\"$request_method\",' '\"http_version\":\"$server_protocol\",' '\"request_body\":\"$request_body\",' '\"response_body\":\"$resp_body\",' '\"provider\":\"$provider\",' '\"model_name\":\"$model_name\",' '\"model_version\":\"$model_version\"' '}'; server { listen 80; server_name _; set $resp_body ''; body_filter_by_lua_file /etc/nginx/lua-scripts/body_filter.lua; location /api.deepseek.com/v3/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name deepseek; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.deepseek.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /api.openai.com/v1/chat/completions { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass https://api.openai.com; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } location /azure/gpt4o { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gpt4o; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; set $endpoint https://YOUR_RESOURCE_NAME.openai.azure.com/openai/deployments/YOUR_DEPLOYMENT_ID-id/completions?api-version=2024-10-21; proxy_pass $endpoint; } location /ollama/gemma2/2b/ { set $apikey ''; set $redis_host redis; set $redis_port 6379; set $model_name gemma2:2b-instruct-q6_K; set $model_version v3; access_by_lua_file /etc/nginx/lua-scripts/access.lua; proxy_pass http://m1:11434/api/chat; proxy_ssl_server_name on; proxy_set_header Host api.deepseek.com; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Content-Type $content_type; proxy_set_header Authorization 'Bearer $apikey'; proxy_set_header Content-Length $content_length; proxy_pass_request_body on; } }","title":"NGINX Configuration file example"}]}